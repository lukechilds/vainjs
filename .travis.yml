language: node_js
node_js:
  # Disable v12 until tiny-secp256k1 is fixed
  # https://github.com/bitcoinjs/tiny-secp256k1/issues/38
  # - '12'
  - '10'
  - '8'
env:
  - TEST_SUITE=test
matrix:
  include:
    - node_js: "10"
      env: TEST_SUITE=bench
script: npm run-script $TEST_SUITE
after_success: npm run coverage
notifications:
  email:
    on_success: never
